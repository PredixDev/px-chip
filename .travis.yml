sudo: false
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester@^5.0.0
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: NWuNXBaKElxVLQKaUdeEj5xiuOATNJ3ZX0gK2LvRg6T3yKK7hdf7v36qTpi1cRwC48m4zvNB0+ly4PfwqqqFLFYsNYtXwqOVKEe6suxSSTrBnwPN8//jgHGBgegXbtY9KK6oyFx84JAZsiLew38nBpRB+AKXRy1exKXuEAXM5eulCV/p8RcpdbhdozbpipNEokZJz2/vT/7rlJDSglDY9hhGAUmjZCbr5uRDPeaJfzVELoMsEVujj155sqCcfrPV0G3FE02aVAtxf+RMgCjT2WhbxMzdqkhOee03+a5LrXDTepoBpOBmzsZyK2yYCHp1eE20eutRxxytP5/g+rz4rsmd08FUOc7IAEa5nytthJEwMOms9utWzuMUx2peLVoucD/9CuTPfDDaZPOHekbzFiuVylqgcgKNbe7F8JHEmMvGlrBEULMPcKgtPc139WaNNHcqquTqdVttR0xlZ/mEAmMggmFDsUm55Bq0UtBXoq58DPg9GxkepLs2qbHnuVrCPoK1gzcu8Oy4pt6OAKd+0fma8q7ETeQ/FcU1dC4EzMsedPdFOwRzEpZ6FJvLcU/7x1GPW2LKeRFAHd0ptNkChbgc5iH7SKS24a4heOVpYNvBWC8faLNvLNIgSdHVV70oUFfPXED+uAvX5bS3pXiX6kIuHVWzMNI7V2N/3knikSw=
  - secure: W+XYqi9OtCYFk4OQ6p89NQGESjY1Jipo5A+xhhaGYjGhaHv42+yGNJHZ+yP930AuEOcnglfFjmHcf8NWf0AgNcbEEG5mQ3hT/N/ChkTg6gbAzKrKGQfMPO1Dn3f1lE3tECZbJHTQ4L6zySuhXN0qILL/ZMnddU4+ZHuytt9kSwVzOVZZGwSd8gV8DKv3ufjRdg0h8trqmhh2bAiUIIya9EHYwO9gXKqYhYIFJj5n4W9O0oRNHP/gwRUjRXa2jB8XQM0UK7rdHqNIzF4TQ1MLcx4MjKPa3SMB/nvY1JxH3HRgLbligbOAerlFCXl7bZZb5ztPdTGHKa/U1/eEmaWGGHjVEagi2txcdw1HLzSJDzUOgH7NSmvaHJrU6Xe+d1WOYTRkcReT/2xCbnXl18QEvxggRnfkxy8/LEb+5Qm8fU/eeaO1mviOdgkqrLa5tvWYI8gPQR/kxgb8IWkxOHKbtppbTWkQHvzgE7Ya0iL/M6Q9Y4oECgOgS+sb82i+EfddkMhziok7AEptFDy18ApHwI3rxcfsba8elHBCv6M0lwNxLF4Uf5e2QvQBuBSpoC12Eg/GBvotuLv26LWhdozRWl5kakdcOE2EVdQi0N3wSzC97UbqV4tzvXlm8Npvn0Yn2wmwnpPOdak96LiEJB2BLXqEThflJ32rxD5YY901rEc=
  - secure: HfQalqhv+Rm5aVz0sJqYeq/RFZxrjlFR3AoLm/wmLKu2V5XRYOyjtwXUksxu5BbP/f9QkFLQP8Ut1H8hzme+gqY5FPr5twBmvWaEPwL7Q7VsU3J2KTHl9Q5H77IohW7EUmdoCoRpICZQn1yFvSSzCpRO4UvB6RYKcFL+HK3TslyJC5ctJsdwEhsBN1gcP7SwHgw00FPhMK2+w052c3DdKv6POmJ+pj7F9c3oWn+HEgz9X7isYDWXDaFzSlAMehMOg2QkSACjEziBbwAWhNoSmWPdGuVrqyKDjXogAWWTsn+LKbmZNFF2ShCdti73BOn/VTv1ce0MG8Ec4Mf7HttMTklxeQMgjW0xatJ/5SNGY1qALkdPDLbO1V5VkHFBYFNg1+OCaY7KsnOImVxtlPR0mG5tXFwJc605fK/6dtmUlHEyxgo0pjv1pjEYoUqBZsSeAlGDt2+nZAtNYznltZxwWNScxtM/Jj/s8W3p4AD2a6nlt1gxromwdACuEXMIs4yJbi5YCIP6eKmabPJlkllj8CgfxhfyQqPh87e0RRa9LqTCRAV8Uqi3tnaA2Ft3fzlPTQEvw6rUhuQIBvGjATodXFdi//U+Ql7yQp3T2NGCpwC8g0INOWbFJdFZdYYqCPbfDQcJbDk6yjUr76DPmAjmlemqkA6WdAGPdGMheAHvT9Y=
  - secure: t/+LbrvX+ZlBWBAV6RzBvSG/kqKiefF2vkrdwhzc67TyfRZ3QxlCVmE26IIfh8JIeKuWqV94KZVp4CsxSTQE4fUhXoySRcXTDQkHEqTh3+/Q5D/b4ToHz95rQoxRqp+GjypxNZI8vs6mRX2J2Gwr23zyjuyd+9G9QNfzAk/JlS8szRaLPXHsjoi5Vuw4nQm32/RvNPBusl++QlTed9XLhWLGXPzN47r5ppWb6kfypi+Wxg1aPvS/sskMsPsK+SMzMO7x3yPgNqIF24HuPR+LETNd8xWqdvLTbGZZ7lQU8oeDCvXaFs17m9mgw4EiBWDDF4zcZjWy1RUZ0jS6mZxr7AauhwQ23Q6FmhwHzkRVd2gXQqlgif5UBgDsm+9fqGJu34TV3FkhWnEHqbXAmpOn5/SDlSUPGvYYj+lHwx4dX86omfyp1YhdGw3GvQGeil23jBGfQhB3/oqth6VnF8b1bta0jRrmxuuxZFPBUWCS/+9LhzctUBoPr+1KzwDLKUD9Bop8ftx0uIpZYvA7cePJ0pedUPAyxwBlvn8IhLwafpz8BAVN4irvRJ3l66arpKVvS0ZUl63xjdvuj6oAQn3Z68wGDUN8rZy4YjDIA4dn9309eBdWU1FJmU/m2QNKLiVJsBc+Hpj7o38uvaNQWDMQI7fj5kSa+GIeVkdui7eQll4=
